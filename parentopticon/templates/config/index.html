{% extends "base.html" %}
{% block title %}Parentopticon Config{% endblock %}
{% block content %}
<h1>Parentopticon Config Page</h1>

<p>Now: {{ now }}</p>
<a href="/config/one-time-message">Send one-time message</a>

<h2>Program Groups</h2>
{% if program_groups %}
<table>
	<tr><th>Name</th></tr>
	{% for pg in program_groups %}
		<tr><td><a href="/config/program-group/{{ pg.id }}">{{ pg.name }}</a></td></tr>
	{% endfor %}
</table>
{% else %}
<p>None yet.</p>
{% endif %}

<a href="/config/program-group">Make more</a>

<h2>Programs</h2>
{% if programs %}
	<table>
		<tr><th>ID</th><th>Name</th></tr>
		{% for program in programs %}
			<tr>
				<td>{{ program.id }}</td>
				<td><a href="/config/program/{{ program.id }}">{{ program.name }}</td>
			</tr>
		{% endfor %}
	</table>
{% else %}
	<p>None yet.</p>
{% endif %}
<a href="/config/program">Make more</a>

<h2>Program Sessions</h2>
{% if program_sessions %}
	<table>
		<tr>
			<th>Username</th>
			<th>Hostname</th>
			<th>Start</th>
			<th>End</th>
			<th>Program</th>
			<th>PIDs</th>
		</tr>
		{% for program_session in program_sessions %}
			<tr>
				<td>{{ program_session.username }}</td>
				<td>{{ program_session.hostname }}</td>
				<td>{{ program_session.start }}</td>
				<td>{{ program_session.end }}</td>
				<td>{{ program_session.program }}</td>
				<td>{{ program_session.pids }}</td>
			</tr>
		{% endfor %}
	</table>
{% else %}
<p>None yet</p>
{% endif %}

<h2>Website Visits</h2>
{% if website_visits %}
	<table>
		<tr>
			<th>Username</th>
			<th>Hostname</th>
			<th>At</th>
			<th>Incognito</th>
			<th>URL</th>
		</tr>
		{% for website_visit in website_visits %}
			<tr>
				<td>{{ website_visit.username }}</td>
				<td>{{ website_visit.hostname }}</td>
				<td>{{ website_visit.at }}</td>
				<td>{{ website_visit.incognito }}</td>
				<td>{{ website_visit.url }}</td>
			</tr>
		{% endfor %}
	</table>
{% else %}
<p>None yet</p>
{% endif %}
{% endblock %}
